<!Doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Dirk</title>
    <script src="https://cdn.babylonjs.com/babylon.max.js"></script>
    <script src="https://preview.babylonjs.com/loaders/babylonjs.loaders.js"></script>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <canvas id = "canvas"></canvas>
    <button id = "fsButton">Fullscreen</button>
    <p id = "demo"></p>
    <script>
        
        const setUp = () => {
        const canvas = document.getElementById('canvas');

        const engine = new BABYLON.Engine(canvas, true);
        
        const createScene = function () {
            const scene = new BABYLON.Scene(engine);
            scene.clearColor = new BABYLON.Color3(0.65, 0.81, 0.67);

            // position of the camera
            var camera = new BABYLON.UniversalCamera("UniversalCamera", new BABYLON.Vector3(0, 5, -10), scene);

            //  where does the camera rotate to? in dit geval richt hij zich naar het middelpunt van de canvas
            camera.setTarget(BABYLON.Vector3.Zero());

            // Attach the camera to the canvas
            camera.attachControl(canvas, true);

            // light
            const light = new BABYLON.HemisphericLight("light", new BABYLON.Vector3(1, 1, 0));

            //model Dirk toevoegen

            // Poging 1
            // const dirk = BABYLON.SceneLoader.Append("models/", "dirkDiri.gltf", scene, function (dirk) {
            //     dirk.meshes[0].position = new BABYLON.Vector3.Zero();
            //     dirk.meshes[0].scaling = new BABYLON.Vector3(.2,.2, .2);
            // });

            // Poging 2 
            // BABYLON.SceneLoader.ImportMesh("","", "/models/dirkDiri.gltf", scene, function (newMeshes){
            //     newMeshes[0].scaling = new BABYLON.Vector3(.5,.5,.5);
            // })
            
            // Poging3
            // const result = await SceneLoader.ImportMeshAsync(null, "./models/", "dirkDiri.gltf", this._scene);
            // let dirk = result.meshes[0];
            // console.log(dirk);

            // callback is een array van meshes it imported
            BABYLON.SceneLoader.ImportMesh("","models/","testModel.babylon", scene, function(newMeshes){
                camera.target = newMeshes[0];
            })
            //obstakels
            
            
            // ground
            const ground = BABYLON.MeshBuilder.CreateGround("ground", {height: 150, width: 9, subdivisions: 4});
            ground.position = new BABYLON.Vector3(0,0,7);

            const groundMaterial = new BABYLON.StandardMaterial("groundMaterial", scene);
            groundMaterial.emissiveColor = new BABYLON.Color3(0.85, 0.77, 0.60);
            ground.material = groundMaterial;

            return scene;
        }

        const scene = createScene();
        engine.runRenderLoop(function () {
            scene.render();
            

        });
    }
    
        var canvasElement = document.getElementById("canvas");
        const fullscreen = () => {
            if (canvasElement.requestFullscreen) { /* other browsers*/
                canvasElement.requestFullscreen();
            } 
            else if (canvasElement.webkitRequestFullscreen) { /* Safari */
                canvasElement.webkitRequestFullscreen();
            } 
            else if (canvasElement.msRequestFullscreen) { /* IE11 */
                canvasElement.msRequestFullscreen();
            }        
        }
        window.addEventListener('DOMContentLoaded', setUp());
        document.getElementById("fsButton").addEventListener("click", fullscreen);

    </script>

</body>
</html>

